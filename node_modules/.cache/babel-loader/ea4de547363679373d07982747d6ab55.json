{"ast":null,"code":"var _jsxFileName = \"/Users/liam/react-moonland/src/App.js\";\nimport styles from '/Users/liam/react-moonland/public/TemplateData/css/style.css';\nimport React, { useState, useEffect } from \"react\";\nimport Unity, { UnityContext } from \"react-unity-webgl\";\nimport * as solanaWeb3 from '@solana/web3.js';\nimport parse from 'html-react-parser';\nimport background from \"./background.png\";\nimport ProgressBar from 'react-bootstrap/Button';\nimport reactDom from 'react-dom';\nconst unityContext = new UnityContext({\n  loaderUrl: \"/build/public/Build/public.loader.js\",\n  dataUrl: \"/build/public/Build/public.data\",\n  frameworkUrl: \"/build/public/Build/public.framework.js\",\n  codeUrl: \"/build/public/Build/public.wasm\"\n});\n\nfunction App() {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [progression, setProgression] = useState(0);\n  const [provider, setProvider] = useState(\"\");\n\n  const getProvider = async () => {\n    if (\"solana\" in window) {\n      await window.solana.connect(); // opens wallet to connect to\n\n      const provider = window.solana;\n\n      if (provider.isPhantom) {\n        console.log(\"Is Phantom installed?  \", provider.isPhantom);\n        return provider;\n      }\n    } else {\n      window.alert('Install https://www.phantom.app/');\n    }\n  };\n\n  var publicKey;\n\n  window.onload = () => {\n    getProvider().then(provider => {\n      console.log('key', provider.publicKey.toString());\n      publicKey = provider.publicKey.toString();\n      setProvider(provider.publicKey.toString());\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  useEffect(() => {\n    setProvider(publicKey);\n  }, []);\n  useEffect(() => {\n    setProvider(publicKey);\n  }, []);\n  useEffect(function () {\n    unityContext.on(\"GetWallet\", function () {\n      if (window.solana.isConnected) {\n        console.log(window.solana.publicKey.toString());\n        console.log(provider.publicKey);\n        unityContext.send(\"Wallet\", \"SetWallet\", window.solana.publicKey.toString());\n      } else {\n        window.alert(\"Pleas Connect your Wallet or play like a guest\");\n      }\n    });\n  }, []);\n  useEffect(function () {\n    unityContext.on(\"progress\", function (progression) {\n      setProgression(progression);\n    });\n  }, []);\n  useEffect(function () {\n    unityContext.on(\"loaded\", function () {\n      setIsLoaded(true);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      visibility: isLoaded ? \"hidden\" : \"visible\",\n      backgroundImage: `url(${background})`,\n      backgroundSize: \"cover\",\n      height: \"100%\",\n      width: \"100%\",\n      color: \"#f5f5f5\",\n      position: 'absolute',\n      left: 0,\n      top: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(ProgressBar, {\n    variant: \"success\",\n    now: progression * 100,\n    style: {\n      visibility: isLoaded ? \"hidden\" : \"visible\",\n      height: \"10px\",\n      width: \"100%\",\n      position: \"absolute\",\n      bottom: 0,\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 3\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      visibility: isLoaded ? \"hidden\" : \"visible\",\n      height: \"30px\",\n      width: \"100%\",\n      position: \"absolute\",\n      textAlign: 'center',\n      bottom: \"100px\",\n      fontSize: \"2em\",\n      fontColor: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 4\n    }\n  }, \"Loading...\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Unity, {\n    style: {\n      visibility: isLoaded ? \"visible\" : \"hidden\",\n      height: \"100%\",\n      width: \"100%\",\n      background: \"grey\",\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      overflow: \"hidden\"\n    },\n    unityContext: unityContext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 4\n    }\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/liam/react-moonland/src/App.js"],"names":["styles","React","useState","useEffect","Unity","UnityContext","solanaWeb3","parse","background","ProgressBar","reactDom","unityContext","loaderUrl","dataUrl","frameworkUrl","codeUrl","App","isLoaded","setIsLoaded","progression","setProgression","provider","setProvider","getProvider","window","solana","connect","isPhantom","console","log","alert","publicKey","onload","then","toString","catch","error","on","isConnected","send","visibility","backgroundImage","backgroundSize","height","width","color","position","left","top","bottom","textAlign","fontSize","fontColor","overflow"],"mappings":";AAAA,OAAOA,MAAP,MAAmB,8DAAnB;AACA,OAAOC,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAA0C,OAA1C;AACA,OAAOC,KAAP,IAAgBC,YAAhB,QAAoC,mBAApC;AACA,OAAO,KAAKC,UAAZ,MAA4B,iBAA5B;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,OAAOC,QAAP,MAAqB,WAArB;AAKA,MAAMC,YAAY,GAAG,IAAIN,YAAJ,CAAiB;AACpCO,EAAAA,SAAS,EAAE,sCADyB;AAEpCC,EAAAA,OAAO,EAAE,iCAF2B;AAGpCC,EAAAA,YAAY,EAAE,yCAHsB;AAIpCC,EAAAA,OAAO,EAAE;AAJ2B,CAAjB,CAArB;;AAWA,SAASC,GAAT,GAAe;AACb,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BhB,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACiB,WAAD,EAAcC,cAAd,IAAgClB,QAAQ,CAAC,CAAD,CAA9C;AACA,QAAM,CAACmB,QAAD,EAAWC,WAAX,IAA0BpB,QAAQ,CAAC,EAAD,CAAxC;;AAIA,QAAMqB,WAAW,GAAG,YAAY;AAC9B,QAAI,YAAYC,MAAhB,EAAwB;AAEtB,YAAMA,MAAM,CAACC,MAAP,CAAcC,OAAd,EAAN,CAFsB,CAES;;AAE/B,YAAML,QAAQ,GAAGG,MAAM,CAACC,MAAxB;;AACA,UAAIJ,QAAQ,CAACM,SAAb,EAAwB;AACtBC,QAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCR,QAAQ,CAACM,SAAhD;AACA,eAAON,QAAP;AACD;AACF,KATD,MASO;AACLG,MAAAA,MAAM,CAACM,KAAP,CAAa,kCAAb;AACD;AACF,GAbD;;AAeA,MAAIC,SAAJ;;AAEAP,EAAAA,MAAM,CAACQ,MAAP,GAAgB,MAAM;AAEpBT,IAAAA,WAAW,GAAGU,IAAd,CAAmBZ,QAAQ,IAAI;AAC7BO,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAGAR,QAAQ,CAACU,SAAT,CAAmBG,QAAnB,EAHA;AAIAH,MAAAA,SAAS,GAAGV,QAAQ,CAACU,SAAT,CAAmBG,QAAnB,EAAZ;AACAZ,MAAAA,WAAW,CAACD,QAAQ,CAACU,SAAT,CAAmBG,QAAnB,EAAD,CAAX;AACD,KAPD,EAQCC,KARD,CAQO,UAASC,KAAT,EAAe;AACpBR,MAAAA,OAAO,CAACC,GAAR,CAAYO,KAAZ;AACD,KAVD;AAYD,GAdD;;AAkBAjC,EAAAA,SAAS,CAAE,MAAM;AAChBmB,IAAAA,WAAW,CAACS,SAAD,CAAX;AACA,GAFQ,EAEN,EAFM,CAAT;AAGA5B,EAAAA,SAAS,CAAE,MAAM;AACfmB,IAAAA,WAAW,CAACS,SAAD,CAAX;AACA,GAFO,EAEL,EAFK,CAAT;AAKC5B,EAAAA,SAAS,CAAC,YAAY;AAGrBQ,IAAAA,YAAY,CAAC0B,EAAb,CAAgB,WAAhB,EAA6B,YAAY;AAIvC,UAAIb,MAAM,CAACC,MAAP,CAAca,WAAlB,EACA;AACEV,QAAAA,OAAO,CAACC,GAAR,CAAYL,MAAM,CAACC,MAAP,CAAcM,SAAd,CAAwBG,QAAxB,EAAZ;AAEFN,QAAAA,OAAO,CAACC,GAAR,CAAYR,QAAQ,CAACU,SAArB;AACApB,QAAAA,YAAY,CAAC4B,IAAb,CAAkB,QAAlB,EAA4B,WAA5B,EAAyCf,MAAM,CAACC,MAAP,CAAcM,SAAd,CAAwBG,QAAxB,EAAzC;AAEC,OAPD,MASA;AACEV,QAAAA,MAAM,CAACM,KAAP,CAAa,gDAAb;AACD;AAKF,KApBD;AAqBD,GAxBS,EAwBP,EAxBO,CAAT;AA2BD3B,EAAAA,SAAS,CAAC,YAAY;AACpBQ,IAAAA,YAAY,CAAC0B,EAAb,CAAgB,UAAhB,EAA4B,UAAUlB,WAAV,EAAuB;AACjDC,MAAAA,cAAc,CAACD,WAAD,CAAd;AACD,KAFD;AAGD,GAJQ,EAIN,EAJM,CAAT;AAOAhB,EAAAA,SAAS,CAAC,YAAY;AACpBQ,IAAAA,YAAY,CAAC0B,EAAb,CAAgB,QAAhB,EAA0B,YAAY;AACpCnB,MAAAA,WAAW,CAAC,IAAD,CAAX;AACD,KAFD;AAGD,GAJQ,EAIN,EAJM,CAAT;AASA,sBAEA;AAAK,IAAA,KAAK,EAAI;AACZsB,MAAAA,UAAU,EAAEvB,QAAQ,GAAG,QAAH,GAAc,SADtB;AAEZwB,MAAAA,eAAe,EAAG,OAAMjC,UAAW,GAFvB;AAGVkC,MAAAA,cAAc,EAAE,OAHN;AAIVC,MAAAA,MAAM,EAAE,MAJE;AAKVC,MAAAA,KAAK,EAAE,MALG;AAMVC,MAAAA,KAAK,EAAE,SANG;AAOZC,MAAAA,QAAQ,EAAE,UAPE;AAQZC,MAAAA,IAAI,EAAE,CARM;AASZC,MAAAA,GAAG,EAAE;AATO,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAaC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACD,oBAAC,WAAD;AAAa,IAAA,OAAO,EAAC,SAArB;AAA+B,IAAA,GAAG,EAAE7B,WAAW,GAAG,GAAlD;AACA,IAAA,KAAK,EAAE;AAAEqB,MAAAA,UAAU,EAAEvB,QAAQ,GAAG,QAAH,GAAc,SAApC;AACP0B,MAAAA,MAAM,EAAE,MADD;AAEPC,MAAAA,KAAK,EAAE,MAFA;AAGPE,MAAAA,QAAQ,EAAE,UAHH;AAIPG,MAAAA,MAAM,EAAE,CAJD;AAKPJ,MAAAA,KAAK,EAAE;AALA,KADP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADC,CAbD,eA2BC;AACC,IAAA,KAAK,EAAE;AAAEL,MAAAA,UAAU,EAAEvB,QAAQ,GAAG,QAAH,GAAc,SAApC;AACP0B,MAAAA,MAAM,EAAE,MADD;AAEPC,MAAAA,KAAK,EAAE,MAFA;AAGPE,MAAAA,QAAQ,EAAE,UAHH;AAIPI,MAAAA,SAAS,EAAE,QAJJ;AAKPD,MAAAA,MAAM,EAAE,OALD;AAMPE,MAAAA,QAAQ,EAAE,KANH;AAOPC,MAAAA,SAAS,EAAE;AAPJ,KADR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBA3BD,eAyCC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,KAAD;AACG,IAAA,KAAK,EAAE;AAAEZ,MAAAA,UAAU,EAAEvB,QAAQ,GAAG,SAAH,GAAe,QAArC;AACL0B,MAAAA,MAAM,EAAE,MADH;AAELC,MAAAA,KAAK,EAAE,MAFF;AAGLpC,MAAAA,UAAU,EAAE,MAHP;AAILsC,MAAAA,QAAQ,EAAE,UAJL;AAKLC,MAAAA,IAAI,EAAE,CALD;AAMLC,MAAAA,GAAG,EAAE,CANA;AAOLK,MAAAA,QAAQ,EAAE;AAPL,KADV;AAWG,IAAA,YAAY,EAAE1C,YAXjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CAzCD,CAFA;AA4DD;;AAED,eAAeK,GAAf","sourcesContent":["import styles from '/Users/liam/react-moonland/public/TemplateData/css/style.css';\nimport React, {useState, useEffect } from \"react\";\nimport Unity, { UnityContext } from \"react-unity-webgl\";\nimport * as solanaWeb3 from '@solana/web3.js';\nimport parse from 'html-react-parser';\nimport background from \"./background.png\";\nimport ProgressBar from 'react-bootstrap/Button';\nimport reactDom from 'react-dom';\n\n\n\n\nconst unityContext = new UnityContext({\n  loaderUrl: \"/build/public/Build/public.loader.js\",\n  dataUrl: \"/build/public/Build/public.data\",\n  frameworkUrl: \"/build/public/Build/public.framework.js\",\n  codeUrl: \"/build/public/Build/public.wasm\",\n});\n\n\n\n\n\nfunction App() {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [progression, setProgression] = useState(0);\n  const [provider, setProvider] = useState(\"\");\n  \n\n\n  const getProvider = async () => {\n    if (\"solana\" in window) {\n      \n      await window.solana.connect(); // opens wallet to connect to\n  \n      const provider = window.solana;\n      if (provider.isPhantom) {\n        console.log(\"Is Phantom installed?  \", provider.isPhantom);\n        return provider;\n      }\n    } else {\n      window.alert('Install https://www.phantom.app/');\n    }\n  };\n  \n  var publicKey;\n  \n  window.onload = () => {\n  \n    getProvider().then(provider => {\n      console.log('key',\n      \n      \n      provider.publicKey.toString());\n      publicKey = provider.publicKey.toString();\n      setProvider(provider.publicKey.toString());\n    })\n    .catch(function(error){\n      console.log(error)\n    });\n  \n  }\n  \n\n\n  useEffect( () => {\n   setProvider(publicKey);\n  }, []);\n  useEffect( () => {\n    setProvider(publicKey);\n   }, []);\n\n\n   useEffect(function () {\n\n    \n    unityContext.on(\"GetWallet\", function () {\n\n         \n     \n      if (window.solana.isConnected)\n      {\n        console.log(window.solana.publicKey.toString());\n      \n      console.log(provider.publicKey);\n      unityContext.send(\"Wallet\", \"SetWallet\", window.solana.publicKey.toString());\n\n      }\n      else\n      {\n        window.alert(\"Pleas Connect your Wallet or play like a guest\");\n      }\n      \n\n      \n     \n    });\n  }, []);\n\n\n  useEffect(function () {\n    unityContext.on(\"progress\", function (progression) {\n      setProgression(progression);\n    });\n  }, []);\n\n\n  useEffect(function () {\n    unityContext.on(\"loaded\", function () {\n      setIsLoaded(true);\n    });\n  }, []);\n \n\n\n\n  return (\n\n  <div style = {{\n    visibility: isLoaded ? \"hidden\" : \"visible\",\n    backgroundImage: `url(${background})`,\n      backgroundSize: \"cover\",\n      height: \"100%\",\n      width: \"100%\",\n      color: \"#f5f5f5\",\n    position: 'absolute',\n    left: 0,\n    top: 0,\n\n    \n  }}>\n   <div  >\n  <ProgressBar variant=\"success\" now={progression * 100}\n  style={{ visibility: isLoaded ? \"hidden\" : \"visible\",\n  height: \"10px\",\n  width: \"100%\",\n  position: \"absolute\",\n  bottom: 0,\n  color: \"red\",\n  }}\n  \n  />\n  \n    </div>\n    \n   <p\n    style={{ visibility: isLoaded ? \"hidden\" : \"visible\",\n    height: \"30px\",\n    width: \"100%\",\n    position: \"absolute\",\n    textAlign: 'center',\n    bottom: \"100px\",\n    fontSize: \"2em\",\n    fontColor: \"red\",\n\n    \n \n    }}>Loading...</p>\n   \n   <div>\n   <Unity\n      style={{ visibility: isLoaded ? \"visible\" : \"hidden\",\n        height: \"100%\",\n        width: \"100%\",\n        background: \"grey\",\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        overflow: \"hidden\",\n     \n    }}\n      unityContext={unityContext}\n    />\n    </div>\n    </div>\n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}